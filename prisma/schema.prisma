generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model direcciones {
  id_direccion Int    @id @default(autoincrement())
  calle        String @db.VarChar(50)
  num_int      String @db.VarChar(15)
  num_ext      String @db.VarChar(15)
  colonia      String @db.VarChar(50)
  municipio    String @db.VarChar(50)
  estado       String @db.VarChar(50)
  cp           String @db.VarChar(5)
  id_user      Int
  users        users  @relation(fields: [id_user], references: [id_user], onDelete: Cascade, map: "direcciones_ibfk_1")

  @@index([id_user], map: "fky_DireccionToUser")
}

model roles {
  id_rol      Int      @id @default(autoincrement())
  nombre      String   @db.VarChar(100)
  descripcion String   @db.Text
  estatus     Int      @default(1) @db.SmallInt
  createdAt   DateTime @db.DateTime(0)
  updatedAt   DateTime @db.DateTime(0)
  users       users[]
}

model users {
  id_user     Int           @id @default(autoincrement())
  nombre      String        @db.VarChar(100)
  telefono    String        @db.VarChar(20)
  email       String        @unique(map: "email") @db.VarChar(100)
  password    String        @db.Text
  estatus     Int           @default(1) @db.SmallInt
  createdAt   DateTime      @db.DateTime(0)
  updatedAt   DateTime      @db.DateTime(0)
  id_rol      Int
  direcciones direcciones[]
  roles       roles         @relation(fields: [id_rol], references: [id_rol], onDelete: Cascade, map: "users_ibfk_1")

  @@index([id_rol], map: "fky_UserToRoles")
}
